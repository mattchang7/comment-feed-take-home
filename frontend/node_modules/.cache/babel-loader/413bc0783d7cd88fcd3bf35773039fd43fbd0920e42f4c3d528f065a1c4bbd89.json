{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getComments, postComment, deleteComments } from \"../services/comments\";\nimport { SocketContext } from \"../SocketProvider.js\";\nimport { useContext } from \"react\";\nexport const useComments = () => {\n  _s();\n  return useQuery({\n    queryKey: [\"comments\"],\n    queryFn: () => getComments()\n  });\n};\n_s(useComments, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useAddComment = () => {\n  _s2();\n  let message = \"\";\n  const queryClient = useQueryClient();\n  const socket = useContext(SocketContext);\n  return useMutation({\n    mutationFn: body => {\n      message = body;\n      return postComment(body);\n    },\n    onSuccess: () => {\n      socket.emit(\"send-comment\", message);\n      queryClient.invalidateQueries([\"comments\"]);\n    }\n  });\n};\n_s2(useAddComment, \"phH2n8vJZJFkhQsgVWOwn+mcUz8=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteComments = () => {\n  _s3();\n  const queryClient = useQueryClient();\n  const socket = useContext(SocketContext);\n  return useMutation({\n    mutationFn: () => deleteComments(),\n    onSuccess: () => {\n      socket.emit(\"delete-comments\");\n      queryClient.invalidateQueries([\"comments\"]);\n    }\n  });\n};\n_s3(useDeleteComments, \"phH2n8vJZJFkhQsgVWOwn+mcUz8=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useMutation","useQuery","useQueryClient","getComments","postComment","deleteComments","SocketContext","useContext","useComments","_s","queryKey","queryFn","useAddComment","_s2","message","queryClient","socket","mutationFn","body","onSuccess","emit","invalidateQueries","useDeleteComments","_s3"],"sources":["/Users/mattchang/Documents/Development/front-end-cyoa-take-home/frontend/src/hooks/useComments.js"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getComments, postComment, deleteComments } from \"../services/comments\";\nimport { SocketContext } from \"../SocketProvider.js\";\nimport { useContext } from \"react\";\n\nexport const useComments = () =>\n  useQuery({\n    queryKey: [\"comments\"],\n    queryFn: () => getComments(),\n  });\n\nexport const useAddComment = () => {\n  let message = \"\";\n  const queryClient = useQueryClient();\n  const socket = useContext(SocketContext);\n  return useMutation({\n    mutationFn: (body) => {\n      message = body;\n      return postComment(body);\n    },\n    onSuccess: () => {\n      socket.emit(\"send-comment\", message);\n      queryClient.invalidateQueries([\"comments\"]);\n    },\n  });\n};\n\nexport const useDeleteComments = () => {\n  const queryClient = useQueryClient();\n  const socket = useContext(SocketContext);\n  return useMutation({\n    mutationFn: () => deleteComments(),\n    onSuccess: () => {\n      socket.emit(\"delete-comments\");\n      queryClient.invalidateQueries([\"comments\"]);\n    },\n  });\n};\n"],"mappings":";;;AAAA,SAASA,WAAW,EAAEC,QAAQ,EAAEC,cAAc,QAAQ,uBAAuB;AAC7E,SAASC,WAAW,EAAEC,WAAW,EAAEC,cAAc,QAAQ,sBAAsB;AAC/E,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAASC,UAAU,QAAQ,OAAO;AAElC,OAAO,MAAMC,WAAW,GAAGA,CAAA;EAAAC,EAAA;EAAA,OACzBR,QAAQ,CAAC;IACPS,QAAQ,EAAE,CAAC,UAAU,CAAC;IACtBC,OAAO,EAAEA,CAAA,KAAMR,WAAW,CAAC;EAC7B,CAAC,CAAC;AAAA;AAACM,EAAA,CAJQD,WAAW;EAAA,QACtBP,QAAQ;AAAA;AAKV,OAAO,MAAMW,aAAa,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACjC,IAAIC,OAAO,GAAG,EAAE;EAChB,MAAMC,WAAW,GAAGb,cAAc,CAAC,CAAC;EACpC,MAAMc,MAAM,GAAGT,UAAU,CAACD,aAAa,CAAC;EACxC,OAAON,WAAW,CAAC;IACjBiB,UAAU,EAAGC,IAAI,IAAK;MACpBJ,OAAO,GAAGI,IAAI;MACd,OAAOd,WAAW,CAACc,IAAI,CAAC;IAC1B,CAAC;IACDC,SAAS,EAAEA,CAAA,KAAM;MACfH,MAAM,CAACI,IAAI,CAAC,cAAc,EAAEN,OAAO,CAAC;MACpCC,WAAW,CAACM,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC;IAC7C;EACF,CAAC,CAAC;AACJ,CAAC;AAACR,GAAA,CAdWD,aAAa;EAAA,QAEJV,cAAc,EAE3BF,WAAW;AAAA;AAYpB,OAAO,MAAMsB,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACrC,MAAMR,WAAW,GAAGb,cAAc,CAAC,CAAC;EACpC,MAAMc,MAAM,GAAGT,UAAU,CAACD,aAAa,CAAC;EACxC,OAAON,WAAW,CAAC;IACjBiB,UAAU,EAAEA,CAAA,KAAMZ,cAAc,CAAC,CAAC;IAClCc,SAAS,EAAEA,CAAA,KAAM;MACfH,MAAM,CAACI,IAAI,CAAC,iBAAiB,CAAC;MAC9BL,WAAW,CAACM,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC;IAC7C;EACF,CAAC,CAAC;AACJ,CAAC;AAACE,GAAA,CAVWD,iBAAiB;EAAA,QACRpB,cAAc,EAE3BF,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}