{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getComments, postComment, deleteComments } from \"../services/comments\";\nimport { SocketContext } from \"../socket\";\nimport { useContext } from \"react\";\nexport const useComments = () => {\n  _s();\n  return useQuery({\n    queryKey: [\"comments\"],\n    queryFn: () => getComments()\n  });\n};\n_s(useComments, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useAddComment = () => {\n  _s2();\n  const queryClient = useQueryClient();\n  const socket = useContext(SocketContext);\n  return useMutation({\n    mutationFn: body => postComment(body),\n    onSuccess: () => {\n      socket.emit(\"addComent\");\n      queryClient.invalidateQueries([\"comments\"]);\n    }\n  });\n};\n_s2(useAddComment, \"phH2n8vJZJFkhQsgVWOwn+mcUz8=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteComments = () => {\n  _s3();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => deleteComments(),\n    onSuccess: () => queryClient.invalidateQueries([\"comments\"])\n  });\n};\n_s3(useDeleteComments, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useMutation","useQuery","useQueryClient","getComments","postComment","deleteComments","SocketContext","useContext","useComments","_s","queryKey","queryFn","useAddComment","_s2","queryClient","socket","mutationFn","body","onSuccess","emit","invalidateQueries","useDeleteComments","_s3"],"sources":["/Users/mattchang/Documents/Development/front-end-cyoa-take-home/frontend/src/hooks/useComments.js"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getComments, postComment, deleteComments } from \"../services/comments\";\nimport { SocketContext } from \"../socket\";\nimport { useContext } from \"react\";\n\nexport const useComments = () =>\n  useQuery({\n    queryKey: [\"comments\"],\n    queryFn: () => getComments(),\n  });\n\nexport const useAddComment = () => {\n  const queryClient = useQueryClient();\n  const socket = useContext(SocketContext);\n  return useMutation({\n    mutationFn: (body) => postComment(body),\n    onSuccess: () => {\n      socket.emit(\"addComent\");\n      queryClient.invalidateQueries([\"comments\"]);\n    },\n  });\n};\n\nexport const useDeleteComments = () => {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => deleteComments(),\n    onSuccess: () => queryClient.invalidateQueries([\"comments\"]),\n  });\n};\n"],"mappings":";;;AAAA,SAASA,WAAW,EAAEC,QAAQ,EAAEC,cAAc,QAAQ,uBAAuB;AAC7E,SAASC,WAAW,EAAEC,WAAW,EAAEC,cAAc,QAAQ,sBAAsB;AAC/E,SAASC,aAAa,QAAQ,WAAW;AACzC,SAASC,UAAU,QAAQ,OAAO;AAElC,OAAO,MAAMC,WAAW,GAAGA,CAAA;EAAAC,EAAA;EAAA,OACzBR,QAAQ,CAAC;IACPS,QAAQ,EAAE,CAAC,UAAU,CAAC;IACtBC,OAAO,EAAEA,CAAA,KAAMR,WAAW,CAAC;EAC7B,CAAC,CAAC;AAAA;AAACM,EAAA,CAJQD,WAAW;EAAA,QACtBP,QAAQ;AAAA;AAKV,OAAO,MAAMW,aAAa,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACjC,MAAMC,WAAW,GAAGZ,cAAc,CAAC,CAAC;EACpC,MAAMa,MAAM,GAAGR,UAAU,CAACD,aAAa,CAAC;EACxC,OAAON,WAAW,CAAC;IACjBgB,UAAU,EAAGC,IAAI,IAAKb,WAAW,CAACa,IAAI,CAAC;IACvCC,SAAS,EAAEA,CAAA,KAAM;MACfH,MAAM,CAACI,IAAI,CAAC,WAAW,CAAC;MACxBL,WAAW,CAACM,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC;IAC7C;EACF,CAAC,CAAC;AACJ,CAAC;AAACP,GAAA,CAVWD,aAAa;EAAA,QACJV,cAAc,EAE3BF,WAAW;AAAA;AASpB,OAAO,MAAMqB,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACrC,MAAMR,WAAW,GAAGZ,cAAc,CAAC,CAAC;EACpC,OAAOF,WAAW,CAAC;IACjBgB,UAAU,EAAEA,CAAA,KAAMX,cAAc,CAAC,CAAC;IAClCa,SAAS,EAAEA,CAAA,KAAMJ,WAAW,CAACM,iBAAiB,CAAC,CAAC,UAAU,CAAC;EAC7D,CAAC,CAAC;AACJ,CAAC;AAACE,GAAA,CANWD,iBAAiB;EAAA,QACRnB,cAAc,EAC3BF,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}